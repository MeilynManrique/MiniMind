<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MiniMind - Login y Registro Multilenguaje</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #c3ecff, #a8dcff);
      margin: 0;
      padding: 0;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      color: #03396c;
    }
    .container {
      background: white;
      border-radius: 15px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      width: 380px;
      max-width: 95vw;
      padding: 40px 30px;
      box-sizing: border-box;
      text-align: center;
    }
    h2 {
      margin-bottom: 25px;
      color: #005b96;
    }
    select {
      margin-bottom: 20px;
      padding: 8px 12px;
      border-radius: 10px;
      border: 1px solid #a9d0f5;
      font-size: 1rem;
      outline-color: #3399ff;
      cursor: pointer;
      transition: border-color 0.3s;
    }
    input {
      width: 100%;
      padding: 12px;
      margin-bottom: 15px;
      border: 1px solid #a9d0f5;
      border-radius: 10px;
      font-size: 1rem;
      outline-color: #3399ff;
      box-sizing: border-box;
    }
    button {
      width: 100%;
      padding: 12px;
      background: linear-gradient(90deg, #3399ff, #0077b6);
      border: none;
      border-radius: 10px;
      color: white;
      font-size: 1.1rem;
      cursor: pointer;
      transition: background 0.3s;
      margin-bottom: 15px;
    }
    button:hover {
      background: linear-gradient(90deg, #0077b6, #005b96);
    }
    .mensaje {
      font-weight: bold;
      margin-bottom: 15px;
      min-height: 24px;
      color: #28a745;
    }
    /* Menu principal */
    .menu-principal {
      display: none;
      width: 100%;
      text-align: center;
    }
    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: #0077b6;
      padding: 10px 0;
      z-index: 1000;
      box-shadow: 0 3px 6px rgba(0,0,0,0.2);
    }
    .top-nav {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 20px;
    }
    .top-nav a {
      color: white;
      text-decoration: none;
      font-weight: bold;
      font-size: 1rem;
    }
    .top-nav a:hover {
      color: #a8d0ff;
    }
    main {
      margin-top: 80px; /* espacio debajo de la barra */
      padding: 20px;
    }
    h1.bienvenida {
      color: #005b96;
      margin-bottom: 15px;
    }
  </style>
</head>
<body>

  <!-- Login / Registro -->
  <div class="container" id="authContainer">
    <h2 id="titulo">Iniciar SesiÃ³n</h2>

    <select id="langSelect" aria-label="Seleccionar idioma">
      <option value="es">EspaÃ±ol</option>
      <option value="en">English</option>
      <option value="pt">PortuguÃªs</option>
    </select>

    <div id="mensaje" class="mensaje"></div>

    <form id="loginForm">
      <input type="text" id="loginUsuario" placeholder="Usuario" required />
      <input type="password" id="loginClave" placeholder="ContraseÃ±a" required />
      <button type="submit">Entrar</button>
      <p><span id="textoNoCuenta">Â¿No tienes cuenta?</span> <a id="linkRegistro" onclick="mostrarRegistro()">RegÃ­strate</a></p>
    </form>

    <form id="registerForm" style="display: none;">
      <input type="text" id="regUsuario" placeholder="Nuevo usuario" required />
      <input type="password" id="regClave" placeholder="ContraseÃ±a" required />
      <input type="password" id="regClave2" placeholder="Confirmar contraseÃ±a" required />
      <button type="submit">Registrarse</button>
      <p><span id="textoYaCuenta">Â¿Ya tienes cuenta?</span> <a id="linkLogin" onclick="mostrarLogin()">Inicia sesiÃ³n</a></p>
    </form>
  </div>

  <!-- MenÃº principal -->
  <div class="menu-principal" id="menuPrincipal">
    <header>
      <nav class="top-nav">
        <a href="propiedades.html" id="linkPropiedades">Propiedades</a>
        <a href="seguridad.html" id="linkSeguridad">Seguridad de Datos</a>
        <a href="vias-pago.html" id="linkViasPago">MÃ©todos de Pago</a>
        <a href="trabajos.html" id="linkTrabajos">Trabajos</a>
        <a href="busqueda.html" id="linkBusqueda">BÃºsqueda</a>
        <a href="control-transacciones.html" id="linkTransacciones">Transacciones</a>
        <a href="#" id="logoutBtn">ðŸšª Cerrar sesiÃ³n</a>
      </nav>
    </header>
    <main>
      <h1 class="bienvenida" id="bienvenidaTexto">Bienvenido a MiniMind</h1>
      <p id="instruccionesMenu">Selecciona una opciÃ³n en el menÃº para continuar.</p>
    </main>
  </div>

  <script>
    const textos = {
      es: { tituloLogin:"Iniciar SesiÃ³n", usuarioPlaceholder:"Usuario", clavePlaceholder:"ContraseÃ±a", botonLogin:"Entrar", noCuenta:"Â¿No tienes cuenta?", registrate:"RegÃ­strate", tituloRegistro:"Registro de Usuario", nuevoUsuario:"Nuevo usuario (letras y nÃºmeros)", claveReg:"ContraseÃ±a (mÃ­n. 6 caracteres)", claveRegConfirm:"Confirmar contraseÃ±a", botonRegistro:"Registrarse", yaCuenta:"Â¿Ya tienes cuenta?", iniciaSesion:"Inicia sesiÃ³n", exitoLogin:"âœ… Inicio de sesiÃ³n exitoso", exitoRegistro:"ðŸŽ‰ Registro exitoso", errorClave:"âŒ Las contraseÃ±as no coinciden", errorLogin:"âŒ Usuario o contraseÃ±a incorrectos", bienvenida:"Bienvenido a MiniMind", instrucciones:"Selecciona una opciÃ³n en el menÃº para continuar.", propiedades:"Propiedades", seguridad:"Seguridad de Datos", viasPago:"MÃ©todos de Pago", trabajos:"Trabajos", busqueda:"BÃºsqueda", transacciones:"Transacciones" },
      en: { tituloLogin:"Log In", usuarioPlaceholder:"Username", clavePlaceholder:"Password", botonLogin:"Login", noCuenta:"Don't have an account?", registrate:"Register", tituloRegistro:"User Registration", nuevoUsuario:"New username", claveReg:"Password (min. 6 characters)", claveRegConfirm:"Confirm password", botonRegistro:"Register", yaCuenta:"Already have an account?", iniciaSesion:"Log In", exitoLogin:"âœ… Login successful", exitoRegistro:"ðŸŽ‰ Registration successful", errorClave:"âŒ Passwords do not match", errorLogin:"âŒ Invalid username or password", bienvenida:"Welcome to MiniMind", instrucciones:"Select an option in the menu to continue.", propiedades:"Properties", seguridad:"Data Security", viasPago:"Payment Methods", trabajos:"Jobs", busqueda:"Search", transacciones:"Transactions" },
      pt: { tituloLogin:"Entrar", usuarioPlaceholder:"UsuÃ¡rio", clavePlaceholder:"Senha", botonLogin:"Entrar", noCuenta:"NÃ£o tem conta?", registrate:"Registrar-se", tituloRegistro:"Registro de UsuÃ¡rio", nuevoUsuario:"Novo usuÃ¡rio", claveReg:"Senha (mÃ­n. 6 caracteres)", claveRegConfirm:"Confirmar senha", botonRegistro:"Registrar", yaCuenta:"JÃ¡ tem conta?", iniciaSesion:"Entrar", exitoLogin:"âœ… Login realizado com sucesso", exitoRegistro:"ðŸŽ‰ Registro realizado com sucesso", errorClave:"âŒ As senhas nÃ£o coincidem", errorLogin:"âŒ UsuÃ¡rio ou senha incorretos", bienvenida:"Bem-vindo ao MiniMind", instrucciones:"Selecione uma opÃ§Ã£o no menu para continuar.", propiedades:"Propriedades", seguridad:"SeguranÃ§a de Dados", viasPago:"MÃ©todos de Pagamento", trabalhos:"Trabalhos", busqueda:"Busca", transacciones:"TransaÃ§Ãµes" }
    };

    const langSelect = document.getElementById("langSelect");
    const titulo = document.getElementById("titulo");
    const loginForm = document.getElementById("loginForm");
    const registerForm = document.getElementById("registerForm");
    const mensaje = document.getElementById("mensaje");
    const authContainer = document.getElementById("authContainer");
    const menuPrincipal = document.getElementById("menuPrincipal");

    const loginUsuario = document.getElementById("loginUsuario");
    const loginClave = document.getElementById("loginClave");
    const regUsuario = document.getElementById("regUsuario");
    const regClave = document.getElementById("regClave");
    const regClave2 = document.getElementById("regClave2");
    const bienvenidaTexto = document.getElementById("bienvenidaTexto");
    const instruccionesMenu = document.getElementById("instruccionesMenu");

    // Actualizar textos por idioma
    function actualizarTextos(lang) {
      const t = textos[lang];
      titulo.textContent = loginForm.style.display !== "none" ? t.tituloLogin : t.tituloRegistro;
      loginUsuario.placeholder = t.usuarioPlaceholder;
      loginClave.placeholder = t.clavePlaceholder;
      loginForm.querySelector("button").textContent = t.botonLogin;
      document.getElementById("textoNoCuenta").textContent = t.noCuenta;
      document.getElementById("linkRegistro").textContent = t.registrate;
      regUsuario.placeholder = t.nuevoUsuario;
      regClave.placeholder = t.claveReg;
      regClave2.placeholder = t.claveRegConfirm;
      registerForm.querySelector("button").textContent = t.botonRegistro;
      document.getElementById("textoYaCuenta").textContent = t.yaCuenta;
      document.getElementById("linkLogin").textContent = t.iniciaSesion;
      document.getElementById("linkPropiedades").textContent = t.propiedades;
      document.getElementById("linkSeguridad").textContent = t.seguridad;
      document.getElementById("linkViasPago").textContent = t.viasPago;
      document.getElementById("linkTrabajos").textContent = t.trabajos;
      document.getElementById("linkBusqueda").textContent = t.busqueda;
      document.getElementById("linkTransacciones").textContent = t.transacciones;
      bienvenidaTexto.textContent = t.bienvenida;
      instruccionesMenu.textContent = t.instrucciones;
    }
    langSelect.addEventListener("change", () => actualizarTextos(langSelect.value));

    // Mostrar formularios
    function mostrarRegistro(){ loginForm.style.display="none"; registerForm.style.display="block"; titulo.textContent=textos[langSelect.value].tituloRegistro; mensaje.textContent=""; }
    function mostrarLogin(){ registerForm.style.display="none"; loginForm.style.display="block"; titulo.textContent=textos[langSelect.value].tituloLogin; mensaje.textContent=""; }
    window.mostrarRegistro = mostrarRegistro;
    window.mostrarLogin = mostrarLogin;

    // Guardar usuario
    registerForm.addEventListener("submit", e => {
      e.preventDefault();
      const t = textos[langSelect.value];
      if(regClave.value !== regClave2.value){
        mensaje.style.color="#d9534f"; mensaje.textContent=t.errorClave; return;
      }
      localStorage.setItem("user_"+regUsuario.value, regClave.value);
      localStorage.setItem("sesionActiva","true");
      mensaje.style.color="#28a745"; mensaje.textContent=t.exitoRegistro;
      setTimeout(()=>{ authContainer.style.display="none"; menuPrincipal.style.display="block"; },1000);
    });

    // Login
    loginForm.addEventListener("submit", e => {
      e.preventDefault();
      const t = textos[langSelect.value];
      const user=loginUsuario.value, pass=loginClave.value;
      const stored=localStorage.getItem("user_"+user);
      if(stored && stored===pass){
        localStorage.setItem("sesionActiva","true");
        mensaje.style.color="#28a745"; mensaje.textContent=t.exitoLogin;
        setTimeout(()=>{ authContainer.style.display="none"; menuPrincipal.style.display="block"; },1000);
      }else{
        mensaje.style.color="#d9534f"; mensaje.textContent=t.errorLogin;
      }
    });

    // Cerrar sesiÃ³n
    document.getElementById("logoutBtn").addEventListener("click", e=>{
      e.preventDefault();
      localStorage.setItem("sesionActiva","false");
      menuPrincipal.style.display="none";
      authContainer.style.display="block";
      mostrarLogin();
    });

    // Al cargar, mostrar login o menÃº segÃºn sesiÃ³n
    if(localStorage.getItem("sesionActiva")==="true"){
      authContainer.style.display="none";
      menuPrincipal.style.display="block";
    }else{
      authContainer.style.display="block";
      menuPrincipal.style.display="none";
    }
    actualizarTextos(langSelect.value);
  </script>

</body>
</html>
